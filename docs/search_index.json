[["meu-primeiro-mapa.html", "Parte 3 Meu Primeiro Mapa 3.1 A Eleição Presidencial de 2014", " Parte 3 Meu Primeiro Mapa Texto introdutório. 3.1 A Eleição Presidencial de 2014 Em 2014, a então presidente Dilma Rousseff (PT) enfrentou o tucano Aécio Neves no segundo turno da eleição presidencial. Para visualizar o resultado desta disputa, elaboraremos um “mapa fácil” que colore os estados brasileiros de acordo com seu candidato mais votado. Para tal, utilizaremos apenas quatro pacotes. O primeiro deles, dplyr, nos ajuda a preparar a tabela com os dados eleitorais e realizar manipulações a fim de prepará-lo para nossas análises. Com função semelhante, o sf nos auxiliar a manipular dados espaciais–essencial para a maior parte das análise que utilizam mapas. O ggplot2, pacote frequentemente utilizado para visualização de dados, nos ajudará a “plotar” as informações nos mapas. Por fim, o pacote geobr foi desenvolvido para gerar “shape files” (arquivos com dados espaciais), os quais utilizaremos como parâmetros para nossos mapas. ## Carregando os pacotes relevantes library(dplyr) ## Gramática para manipulação de dados library(sf) ## Gramática para dados espaciais library(ggplot2) ## Elaboração de gráficos library(geobr) ## Mapas brasileiros Nosso próximo passo é gerar uma tabela (tibble) com os dados que queremos plotar no mapa. Ou seja, uma coluna para os estados brasileiros e outra indicando o candidato vencedor. É importante notar que o nome da variável “estados” (a primeira linha da coluna) precisa estar alinhada com a nomenclatura utilizada no pacote geobr. Por tal motivo, utilizaremos o termo abbrev_state (referindo-se a abreviação dos nomes dos estados). No bloco abaixo, apresentamos uma forma simples para gerar esta tabela. No entanto, também é possível produzí-la no MS Excel (ou seu software de preferência) e importá-la para o R. ganhadores_2014 &lt;- tibble(abbrev_state = c(&quot;RS&quot;, &quot;SC&quot;, &quot;PR&quot;, &quot;SP&quot;, &quot;MG&quot;, &quot;RJ&quot;, &quot;ES&quot;, &quot;MS&quot;, &quot;MT&quot;, &quot;GO&quot;, &quot;DF&quot;, &quot;TO&quot;, &quot;RO&quot;, &quot;AC&quot;, &quot;AM&quot;, &quot;PA&quot;, &quot;AP&quot;, &quot;RR&quot;, &quot;MA&quot;, &quot;PI&quot;, &quot;CE&quot;, &quot;RN&quot;, &quot;PB&quot;, &quot;PE&quot;, &quot;AL&quot;, &quot;SE&quot;, &quot;BA&quot;), ganhador = c(&quot;Aécio&quot;, &quot;Aécio&quot;, &quot;Aécio&quot;, &quot;Aécio&quot;, &quot;Dilma&quot;, &quot;Dilma&quot;, &quot;Aécio&quot;, &quot;Aécio&quot;, &quot;Aécio&quot;, &quot;Aécio&quot;,&quot;Aécio&quot;, &quot;Dilma&quot;, &quot;Aécio&quot;, &quot;Aécio&quot;, &quot;Dilma&quot;, &quot;Dilma&quot;, &quot;Dilma&quot;, &quot;Aécio&quot;, &quot;Dilma&quot;, &quot;Dilma&quot;, &quot;Dilma&quot;, &quot;Dilma&quot;, &quot;Dilma&quot;, &quot;Dilma&quot;, &quot;Dilma&quot;, &quot;Dilma&quot;, &quot;Dilma&quot;)) A tabela (tibble) construída será como esta que apresentamos abaixo. data.frame(ganhadores_2014) ## abbrev_state ganhador ## 1 RS Aécio ## 2 SC Aécio ## 3 PR Aécio ## 4 SP Aécio ## 5 MG Dilma ## 6 RJ Dilma ## 7 ES Aécio ## 8 MS Aécio ## 9 MT Aécio ## 10 GO Aécio ## 11 DF Aécio ## 12 TO Dilma ## 13 RO Aécio ## 14 AC Aécio ## 15 AM Dilma ## 16 PA Dilma ## 17 AP Dilma ## 18 RR Aécio ## 19 MA Dilma ## 20 PI Dilma ## 21 CE Dilma ## 22 RN Dilma ## 23 PB Dilma ## 24 PE Dilma ## 25 AL Dilma ## 26 SE Dilma ## 27 BA Dilma Nosso próximo passo é baixar os dados cartográficos do pacote geobr. Basicamente, queremos baixar uma tabela que contenha os estados brasileiros e informações geográficas (e geométricas!) nos informando como eles devem ser “desenhados”. mapa_brasil &lt;- read_state(code_state=&quot;all&quot;, year=2018, showProgress = FALSE) ganhadores_2014 &lt;- left_join(mapa_brasil, ganhadores_2014, by = &quot;abbrev_state&quot;) ganhadores_2014 %&gt;% ggplot() + geom_sf(aes_string(fill = &quot;ganhador&quot;)) "]]
